 const moment = require('moment-timezone') 
 const {fetchJson,Module_Exports, tlang } = require('../lib') 
 let gis = require("async-g-i-s"); 
 const axios = require('axios')
 const fetch = require('node-fetch') 
 const Esana = require('@sl-code-lords/esana-news') 
 var api = new Esana() 

//---------------------------------------------------------------------------
Module_Exports({   
       kingcmd: "nasa",      
       react: "ğŸ“ƒ",   
       infocmd: "",   
       kingclass: "news",   
       use: '.hirunews',   
       filename: __filename   
   },   
   async(Void, citel) => {   
   try{   
   const nasa = await fetchJson(`https://vihangayt.me/details/nasa`);   
  
             const images = `${nasa.result.image}`   
              const title = `${nasa.result.title}`  
              const news = `${nasa.result.infocmd}`   
  
   await Void.sendMessage(citel.chat,  { image: { url: images }, caption: `ğŸ“ƒï¼®ï¼¡ï¼³ï¼¡ ï¼¢ï¼¹ ï¼³ï¼©ï¼´ï¼¨ï¼µï¼·ï¼¡\n\n*${ title }*\n\n _${news}._\n\n*ğŸ“Œ É¢á´‡É´á´‡Ê€á´€á´›á´‡á´… Ê™Ê êœ±Éªá´›Êœá´œá´ á´‹á´€ÊŸÊœá´€Ê€á´€...`}, { quoted: citel })   
   }   
   catch(e){   
   console.log(e)   
   }}) 
//---------------------------------------------------------------------------
Module_Exports({  
      kingcmd: "technews",  
      react: "ğŸ§¾",  
      infocmd: "Searches news",  
      kingclass: "news",  
      use: '.technews',  
      filename: __filename  
  },  
  async(Void, citel) => {  
  try{  
  const technews = await fetchJson(`http://darkapi.technicalhacke4.repl.co/sinhala-technews`);  
  
  
  
  
             const images = `${technews.result.img}`  
             const title = `${technews.result.title}`  
             const date = `${technews.time}`
             const news = `${technews.result.decs}`  
  
  await Void.sendMessage(citel.chat,  { image: { url: images }, caption: `ğŸ“ƒï¼´ï¼¥ï¼£ï¼¨ï¼®ï¼¥ï¼·ï¼³ ï¼¢ï¼¹ ï¼³ï¼©ï¼´ï¼¨ï¼µï¼·ï¼¡\n\n${ title }\n\n ${ news }\n\n${date}\n\nâ–¶.É¢á´‡É´á´‡Ê€á´€á´›á´‡á´… Ê™Ê êœ±Éªá´›Êœá´œá´ á´‹á´€ÊŸÊœá´€Ê€á´€.â—€`}, { quoted: citel })  
  }  
  catch(e){  
  console.log(e)  
  }}) 
//---------------------------------------------------------------------------
Module_Exports({ 
         kingcmd: "esana", 
         kingclass: "news",
         react: "ğŸ“ƒ",
         infocmd: "Searches news", 
         use: '<text>', 
         filename: __filename, 
     }, 
     async(Void, citel) => { 
        let res = await api.latest_id(); 
        const nid = res.results.news_id; 
        let news = await api.news(nid); 
        const tt = news.results.TITLE; 
        const dss = news.results.infocmdRIPTION; 
        const ttime = news.results.PUBLISHED; 
        const img = news.results.COVER; 
        const cap = `ğŸ“ƒï¼®ï¼¥ï¼·ï¼³ ï¼¢ï¼¹ ï¼³ï¼©ï¼´ï¼¨ï¼µï¼·ï¼¡\n\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nğŸ·ï¸ á´›Éªá´›ÊŸá´‡â¨ ${tt}\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n ğŸ•’ á´›Éªá´á´‡â¨ ${ttime}\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ \n ğŸ“‘ á´…á´‡êœ±á´„Ê€Éªá´˜á´›Éªá´É´â¨ ${dss}\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ \n\n â–¶.É¢á´‡É´á´‡Ê€á´€á´›á´‡á´… Ê™Ê êœ±Éªá´›Êœá´œá´ á´‹á´€ÊŸÊœá´€Ê€á´€.â—€`; 
                 await Void.sendMessage(citel.chat,{image:{url: img}, caption: cap})
 }) 
//---------------------------------------------------------------------------
Module_Exports({  
      kingcmd: "hirunews2",  
      react: "ğŸ“ƒ",  
      infocmd: "",  
      kingclass: "news",  
      use: '.hirunews',  
      filename: __filename  
  },  
  async(Void, citel) => {  
  try{  
  const hirunews = await fetchJson(`https://hirunews.aquaapk-dl.repl.co/api/latest`);  
            const images = `${hirunews.image}`  
             const title = `${hirunews.title}`  
             const date = `${hirunews.time}`  
             const news = `${hirunews.infocmd}`  
  
  await Void.sendMessage(citel.chat,  { image: { url: images }, caption: `ğŸ“ƒï¼¨ï¼©ï¼²ï¼µ ï¼®ï¼¥ï¼·ï¼³ ï¼¢ï¼¹ ï¼³ï¼©ï¼´ï¼¨ï¼µï¼·ï¼¡\n\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n ğŸ·ï¸ á´›Éªá´›ÊŸá´‡â¨ ${ title }\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n ğŸ•’ á´›Éªá´á´‡â¨ ${date}\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n ğŸ“‘ á´…á´‡êœ±á´„Ê€Éªá´˜á´›Éªá´É´â¨ ${ news }\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nâ–¶.É¢á´‡É´á´‡Ê€á´€á´›á´‡á´… Ê™Ê êœ±Éªá´›Êœá´œá´ á´‹á´€ÊŸÊœá´€Ê€á´€.â—€`}, { quoted: citel })  
  }  
  catch(e){  
  console.log(e)  
  }}) 

//---------------------------------------------------------------------------
Module_Exports({   
       kingcmd: "derana",      
       react: "ğŸ“ƒ",   
       infocmd: "",   
       kingclass: "news",   
       use: '.derananews',   
       filename: __filename   
   },   
   async(Void, citel) => {   
   try{   
   const derana = await fetchJson(`https://darkapi--technicalhacke4.repl.co/derananews`);   
  
             const images = `${derana.result.image}`   
              const title = `${derana.result.title}`  
              const news = `${derana.result.infocmd}`   
  
   await Void.sendMessage(citel.chat,  { image: { url: images }, caption: `ğŸ“ƒï¼¤ï¼¥ï¼²ï¼¡ï¼®ï¼¡ ï¼¢ï¼¹ ï¼³ï¼©ï¼´ï¼¨ï¼µï¼·ï¼¡\n\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n*${ title }*\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n ${news}\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nğŸ“Œ É¢á´‡É´á´‡Ê€á´€á´›á´‡á´… Ê™Ê êœ±Éªá´›Êœá´œá´ á´‹á´€ÊŸÊœá´€Ê€á´€...`}, { quoted: citel })   
   }   
   catch(e){   
   console.log(e)   
   }})

