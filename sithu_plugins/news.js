const moment = require('moment-timezone') 
 const {fetchJson,cmd, tlang } = require('../lib') 
 let gis = require("async-g-i-s"); 
 const axios = require('axios');
 const fetch = require('node-fetch');
 const Esana = require('@sl-code-lords/esana-news') 
 var api = new Esana() 

//---------------------------------------------------------------------------

cmd({ 
         pattern: "esana", 
         category: "news",
         react: "ğŸ“ƒ",
         desc: "Searches news", 
         use: '<text>', 
         filename: __filename, 
     }, 
     async(Void, citel) => { 
        let res = await api.latest_id(); 
        const nid = res.results.news_id; 
        let news = await api.news(nid); 
        const tt = news.results.TITLE; 
        const dss = news.results.DESCRIPTION; 
        const ttime = news.results.PUBLISHED; 
        const img = news.results.COVER; 
        const cap = `ğŸ“ƒï¼®ï¼¥ï¼·ï¼³ ï¼¢ï¼¹ ï¼¶ï¼¡ï¼ªï¼©ï¼²ï¼¡\n\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nğŸ·ï¸ á´›Éªá´›ÊŸá´‡â¨ ${tt}\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n ğŸ•’ á´›Éªá´á´‡â¨ ${ttime}\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ \n ğŸ“‘ á´…á´‡êœ±á´„Ê€Éªá´˜á´›Éªá´É´â¨ ${dss}\nâ—‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ \n\n â–¶.GENERATED BY VAJIRA.â—€`; 
                 await Void.sendMessage(citel.chat,{image:{url: img}, caption: cap})
 })
